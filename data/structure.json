{
  "project_manifest": {
    "name": "Universal Office (Prayer App New)",
    "version": "1.2.0",
    "description": "A comprehensive digital Daily Office and Psalter designed for Anglicans and those in communion with them. It incorporates elements from Anglican, Catholic, Eastern Orthodox, Oriental Orthodox, and Church of the East monastic and parish prayer services.",
    "theological_vision": "As part of 'the one, holy, catholic, and apostolic Church,' the app aims to help users become more like Jesus through sacraments and prayer, drawing from the Holy Fathers.",
    "current_phase": "Phase 3: Liturgical Logic & Content Integration"
  },
  "goals": [
    "Offer customizable prayer experiences drawing from multiple Christian traditions to deepen users' spiritual lives.",
    "Facilitate immersion in worship, bringing 'heaven to earth' through visual, auditory, and sensory elements.",
    "Include a saints section with a curated kalendar based on Lesser Feasts and Fasts and the BCP, reviewed for marks of holiness and intercession.",
    "Ensure the app is beautiful and engaging, changing with liturgical seasons to enhance the prayer experience."
  ],
  "immersive_features": {
    "visual": "Icons of saints, background colors, and themes that change with liturgical seasons based on propers.json.",
    "auditory": "Light background music or sounds to evoke a sacred atmosphere.",
    "sensory": "Design elements that evoke the atmosphere of traditional worship (e.g., imagery of incense).",
    "ui": "Immersive interface for web and mobile to create a 'heavenly worship' experience."
  },
  "technical_architecture": {
    "frontend": "Vanilla JavaScript with Tailwind CSS for utility-first styling",
    "data_format": "Modular JSON structures for high-performance client-side rendering",
    "state_management": "In-memory session state for navigation and liturgical context",
    "entry_point": "index.html with consolidated logic in app.js"
  },
  "content_status": {
    "psalter": {
      "canonical_psalms": "1-150 (Completed)",
      "historical_psalms": "151-155 (Completed)",
      "total_entries": 155,
      "source_text": "NRSV / Traditional liturgical translations",
      "status": "Fully verified and integrated into psalms.json"
    },
    "liturgy": {
      "morning_prayer": "Structural framework defined; logic for Invitatories pending",
      "evening_prayer": "Structural framework defined; logic for Phos Hilaron pending",
      "compline": "Initial template drafted",
      "midday_prayer": "To be implemented"
    },
    "collects_and_special": {
      "daily_collects": "In progress (mapping to liturgical calendar required)",
      "seasonal_antiphons": "Pending development",
      "canticles": "Structure defined for Magnificat, Nunc Dimittis, and Te Deum"
    },
    "saints_kalendar": "Expanded to multi-tradition (Anglican, Catholic, Eastern/Oriental Orthodox, Church of the East). Covers 5-8 saints per day."
  },
  "files_structure": {
    "keep": [
      "index.html",
      "package.json",
      "data/components.json (Verified: Contains openings, creeds, collects, etc.)",
      "data/rubrics.json",
      "data/saints.json",
      "data/propers.json (Slimmed to refs only)"
    ],
    "new": [
      "data/bible/old-testament.json (OT readings - needs truncation fix at Jeremiah 8)",
      "data/bible/new-testament.json (NT readings - duplicate MATT 18:1-7 identified)",
      "data/bible/psalms.json (Completed: 1-155)"
    ],
    "delete": [
      "data/psalter.json (Deprecated)",
      "data/scripture.json (Deprecated)",
      "README.md (Empty)"
    ]
  },
  "identified_issues": [
    "Repeated/duplicated phrases in some prayer sections (e.g., litany loops).",
    "Blank/empty sections under headers caused by null returns in getScriptureText().",
    "Formatting: Inconsistent line breaks and missing separators.",
    "Ref formatting: Case-sensitivity issues between propers.json and Bible IDs.",
    "Collect ID mismatches: Dynamic IDs in index.html don't match components.json (e.g., 'collect-january-25' vs 'collect-jan25-conversion-paul').",
    "Duplicated Marian Antiphon appearing multiple times in the render flow.",
    "OT truncation at Jeremiah 8 and NT duplicates in Bible files."
  ],
  "fix_plan": [
    "Step 1: Verify all 155 Psalms in psalms.json are pulling correctly via getScriptureText(). [Completed]",
    "Step 2: Clean new-testament.json - Remove duplicates like MATT 18:1-7 and ensure all lesson refs load full text.",
    "Step 3: Fix old-testament.json truncation - Restore data after Jeremiah 8.",
    "Step 4: Standardize Collect IDs - Link propers.json date-based keys to components.json specific collect IDs.",
    "Step 5: Consolidate Marian logic - Render once based on marianPos in index.html.",
    "Step 6: Refine Scripture Rendering - Ensure regex continues to strip verse numbers and replace line breaks for paragraph flow.",
    "Step 7: Implement 30-day Psalm cycle - Add range parsing logic for blocks like 'Psalm 67, Psalm 68'.",
    "Step 8: Finalize Office Logic - Implement automatic time-based selection for Morning/Evening prayer.",
    "Step 9: Cleanup - Delete deprecated psalter.json and scripture.json files."
  ],
  "last_updated": "2026-01-27"
}